-- Filename: DB_Foundry_equipment.lua
-- Author: auto-created by XmlToScript tool.
-- Function: it`s auto-created by XmlToScript tool.

module("DB_Foundry_equipment", package.seeall)

keys = {
	"id", "materialId", "orangeId", "materialCost", "material1", "material2", "material3", "equipmentType", 
}

Foundry_equipment = {
	id_1 = {1, "101401,101402,101403", 101501, "3|2000000,3|2000000,3|2000000", "60201|480,60202|480,60203|480,60204|480,60205|480,60301|240", "60201|360,60202|360,60203|360,60204|360,60205|360,60301|180", "60201|240,60202|240,60203|240,60204|240,60205|240,60301|120", 0, },
	id_2 = {2, "101412,101423", 101511, "3|2000000,3|2000000,3|2000000", "60201|360,60202|360,60203|360,60204|360,60205|360,60311|180", "60201|180,60202|180,60203|180,60204|180,60205|180,60311|90", nil, 1, },
	id_3 = {3, "102401,102402,102403", 102501, "3|1000000,3|1000000,3|1000000", "60201|240,60202|240,60204|480,60205|240,60302|120", "60201|180,60202|180,60204|360,60205|180,60302|90", "60201|120,60202|120,60204|240,60205|120,60302|60", 0, },
	id_4 = {4, "102412,102423", 102511, "3|1000000,3|1000000,3|1000000", "60201|180,60202|180,60204|360,60205|180,60312|90", "60201|90,60202|90,60204|180,60205|90,60312|45", nil, 1, },
	id_5 = {5, "103401,103402,103403", 103501, "3|1000000,3|1000000,3|1000000", "60201|240,60202|240,60203|480,60205|240,60302|120", "60201|180,60202|180,60203|360,60205|180,60302|90", "60201|120,60202|120,60203|240,60205|120,60302|60", 0, },
	id_6 = {6, "103412,103423", 103511, "3|1000000,3|1000000,3|1000000", "60201|180,60202|180,60203|360,60205|180,60312|90", "60201|90,60202|90,60203|180,60205|90,60312|45", nil, 1, },
	id_7 = {7, "104401,104402,104403", 104501, "3|1500000,3|1500000,3|1500000", "60201|400,60202|400,60203|400,60204|400,60205|400,60303|200", "60201|300,60202|300,60203|300,60204|300,60205|300,60303|150", "60201|200,60202|200,60203|200,60204|200,60205|200,60303|100", 0, },
	id_8 = {8, "104412,104423", 104511, "3|1500000,3|1500000,3|1500000", "60201|300,60202|300,60203|300,60204|300,60205|300,60313|150", "60201|150,60202|150,60203|150,60204|150,60205|150,60313|75", nil, 1, },
	id_9 = {9, "101501", 101502, "3|3000000,3|3000000,3|3000000", "60201|300,60202|300,60203|300,60204|300,60205|300,60301|150", nil, nil, 0, },
	id_11 = {11, "101511", 101522, "3|3000000,3|3000000,3|3000000", "60201|300,60202|300,60203|300,60204|300,60205|300,60311|150", nil, nil, 1, },
	id_13 = {13, "102501", 102502, "3|1500000,3|1500000,3|1500000", "60201|150,60202|150,60204|300,60205|150,60302|75", nil, nil, 0, },
	id_15 = {15, "102511", 102522, "3|1500000,3|1500000,3|1500000", "60201|150,60202|150,60204|300,60205|150,60312|75", nil, nil, 1, },
	id_17 = {17, "103501", 103502, "3|1500000,3|1500000,3|1500000", "60201|150,60202|150,60203|300,60205|150,60302|75", nil, nil, 0, },
	id_19 = {19, "103511", 103522, "3|1500000,3|1500000,3|1500000", "60201|150,60202|150,60203|300,60205|150,60312|75", nil, nil, 1, },
	id_21 = {21, "104501", 104502, "3|2250000,3|2250000,3|2250000", "60201|250,60202|250,60203|250,60204|250,60205|250,60303|125", nil, nil, 0, },
	id_23 = {23, "104511", 104522, "3|2250000,3|2250000,3|2250000", "60201|250,60202|250,60203|250,60204|250,60205|250,60313|125", nil, nil, 1, },
}

local mt = {}
mt.__index = function (table, key)
	for i = 1, #keys do
		if (keys[i] == key) then
			return table[i]
		end
	end
end

function getDataById(key_id)
	local id_data = Foundry_equipment["id_" .. key_id]
	if id_data == nil then
		print("don't find data by id " .. key_id)
		return nil
	end
	if getmetatable(id_data) ~= nil then
		return id_data
	end
	setmetatable(id_data, mt)

	return id_data
end

function getArrDataByField(fieldName, fieldValue)
	local arrData = {}
	local fieldNo = 1
	for i=1, #keys do
		if keys[i] == fieldName then
			fieldNo = i
			break
		end
	end
	for k, v in pairs(Foundry_equipment) do
		if v[fieldNo] == fieldValue then
			setmetatable (v, mt)
			arrData[#arrData+1] = v
		end
	end

	return arrData
end

function release()
	_G["DB_Foundry_equipment"] = nil
	package.loaded["DB_Foundry_equipment"] = nil
	package.loaded["db/DB_Foundry_equipment"] = nil
end

