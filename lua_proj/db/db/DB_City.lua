-- Filename: DB_City.lua
-- Author: auto-created by XmlToScript tool.
-- Function: it`s auto-created by XmlToScript tool.

module("DB_City", package.seeall)

keys = {
	"id", "name", "icon", "cityLevel", "needLegionLevel", "baseReward", "occupyEffect", "defendEnemy", "defaultCityDefend", "fallCityDefend", "rewardName", "destroyCityEnemy", "repairCityEnemy", 
}

City = {
	id_1 = {1, "许昌", "14.png", 4, 20, "3|0|250", "1|6000", nil, 7500, 750, "金币", "610010,610011,610012,610013,610014,610015", "620010,620011,620012,620013,620014,620015", },
	id_2 = {2, "成都", "24.png", 4, 20, "12|0|1500", "6|800", nil, 7500, 750, "声望", "610010,610011,610012,610013,610014,610015", "620010,620011,620012,620013,620014,620015", },
	id_3 = {3, "建业", "34.png", 4, 20, "1|0|500000", "2|20000", nil, 7500, 750, "银币", "610010,610011,610012,610013,610014,610015", "620010,620011,620012,620013,620014,620015", },
	id_4 = {4, "长安", "44.png", 4, 20, "1|0|500000", "3|600", nil, 7500, 750, "银币", "610010,610011,610012,610013,610014,610015", "620010,620011,620012,620013,620014,620015", },
	id_5 = {5, "陈留", "13.png", 3, 15, "1|0|400000", "6|600", nil, 6000, 600, "银币", "610007,610008,610009,610010,610011,610012", "620007,620008,620009,620010,620011,620012", },
	id_6 = {6, "汉中", "23.png", 3, 15, "1|0|400000", "3|450", nil, 6000, 600, "银币", "610007,610008,610009,610010,610011,610012", "620007,620008,620009,620010,620011,620012", },
	id_7 = {7, "襄阳", "33.png", 3, 15, "3|0|200", "1|4500", nil, 6000, 600, "金币", "610007,610008,610009,610010,610011,610012", "620007,620008,620009,620010,620011,620012", },
	id_8 = {8, "洛阳", "43.png", 3, 15, "12|0|1200", "2|15000", nil, 6000, 600, "声望", "610007,610008,610009,610010,610011,610012", "620007,620008,620009,620010,620011,620012", },
	id_9 = {9, "汝南", "12.png", 2, 10, "1|0|300000", "3|300", nil, 4500, 450, "银币", "610004,610005,610006,610007,610008,610009", "620004,620005,620006,620007,620008,620009", },
	id_10 = {10, "下邳", "12.png", 2, 10, "12|0|900", "1|3000", nil, 4500, 450, "声望", "610004,610005,610006,610007,610008,610009", "620004,620005,620006,620007,620008,620009", },
	id_11 = {11, "江州", "22.png", 2, 10, "3|0|150", "1|3000", nil, 4500, 450, "金币", "610004,610005,610006,610007,610008,610009", "620004,620005,620006,620007,620008,620009", },
	id_12 = {12, "永安", "22.png", 2, 10, "1|0|300000", "2|10000", nil, 4500, 450, "银币", "610004,610005,610006,610007,610008,610009", "620004,620005,620006,620007,620008,620009", },
	id_13 = {13, "江夏", "32.png", 2, 10, "12|0|900", "2|10000", nil, 4500, 450, "声望", "610004,610005,610006,610007,610008,610009", "620004,620005,620006,620007,620008,620009", },
	id_14 = {14, "江陵", "32.png", 2, 10, "1|0|300000", "3|300", nil, 4500, 450, "银币", "610004,610005,610006,610007,610008,610009", "620004,620005,620006,620007,620008,620009", },
	id_15 = {15, "北平", "42.png", 2, 10, "12|0|900", "6|400", nil, 4500, 450, "声望", "610004,610005,610006,610007,610008,610009", "620004,620005,620006,620007,620008,620009", },
	id_16 = {16, "邺城", "42.png", 2, 10, "1|0|300000", "6|400", nil, 4500, 450, "银币", "610004,610005,610006,610007,610008,610009", "620004,620005,620006,620007,620008,620009", },
	id_17 = {17, "宛城", "11.png", 1, 5, "12|0|600", "2|5000", nil, 3000, 300, "声望", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_18 = {18, "小沛", "11.png", 1, 5, "1|0|200000", "1|1500", nil, 3000, 300, "银币", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_19 = {19, "新野", "11.png", 1, 5, "11|0|200", "6|200", nil, 3000, 300, "魂玉", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_20 = {20, "云南", "21.png", 1, 5, "12|0|600", "2|5000", nil, 3000, 300, "声望", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_21 = {21, "梓潼", "21.png", 1, 5, "1|0|200000", "6|200", nil, 3000, 300, "银币", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_22 = {22, "天水", "21.png", 1, 5, "7|60002|100", "3|150", nil, 3000, 300, "进阶丹", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_23 = {23, "柴桑", "31.png", 1, 5, "11|0|200", "3|150", nil, 3000, 300, "魂玉", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_24 = {24, "长沙", "31.png", 1, 5, "12|0|600", "1|1500", nil, 3000, 300, "声望", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_25 = {25, "寿春", "31.png", 1, 5, "1|0|200000", "6|200", nil, 3000, 300, "银币", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_26 = {26, "北海", "41.png", 1, 5, "7|60002|100", "2|5000", nil, 3000, 300, "进阶丹", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_27 = {27, "平原", "41.png", 1, 5, "3|0|100", "1|1500", nil, 3000, 300, "金币", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
	id_28 = {28, "南皮", "41.png", 1, 5, "1|0|200000", "3|150", nil, 3000, 300, "银币", "610001,610002,610003,610004,610005,610006", "620001,620002,620003,620004,620005,620006", },
}

local mt = {}
mt.__index = function (table, key)
	for i = 1, #keys do
		if (keys[i] == key) then
			return table[i]
		end
	end
end

function getDataById(key_id)
	local id_data = City["id_" .. key_id]
	if id_data == nil then
		print("don't find data by id " .. key_id)
		return nil
	end
	if getmetatable(id_data) ~= nil then
		return id_data
	end
	setmetatable(id_data, mt)

	return id_data
end

function getArrDataByField(fieldName, fieldValue)
	local arrData = {}
	local fieldNo = 1
	for i=1, #keys do
		if keys[i] == fieldName then
			fieldNo = i
			break
		end
	end
	for k, v in pairs(City) do
		if v[fieldNo] == fieldValue then
			setmetatable (v, mt)
			arrData[#arrData+1] = v
		end
	end

	return arrData
end

function release()
	_G["DB_City"] = nil
	package.loaded["DB_City"] = nil
	package.loaded["db/DB_City"] = nil
end

